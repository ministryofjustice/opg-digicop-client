# reference https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/reference/yaml-mapping.html
AppBundle\Entity\Document:
    properties:
      file:
        - File:
          maxSize: 20M
          mimeTypes: [application/pdf, application/x-pdf, image/png, image/jpeg, image/tiff, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document]
          mimeTypesMessage: "document.file.errors.mimeTypesMessage"
          maxSizeMessage: "document.file.errors.maxSizeMessage"
    type: entity
    table: "document"
    id:
      id:
        type: integer
        generator:
          strategy: AUTO
    fields:
      type:
        type: string
        length: 100
        nullable: false
      fileName:
        type: string
        length: 255
        nullable: true
      storageReference:
        type: string
        length: 255
      remoteStorageReference:
        type: string
        length: 255
        nullable: true
    manyToOne:
      order:
        targetEntity: Order
        inversedBy: documents
        cascade: ["persist"]
        joinColumn:
          name: order_id
          referencedColumnName: id
          onDelete: CASCADE
